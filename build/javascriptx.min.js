/*! javascriptx 2014-12-25 */
Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("[object Function]"!={}.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=0;f>d;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}}),Array.prototype.map||(Array.prototype.map=function(a,b){var c,d,e;if(null==this)throw new TypeError(" this is null or not defined");var f=Object(this),g=f.length>>>0;if("[object Function]"!={}.toString.call(a))throw new TypeError(a+" is not a function");for(b&&(c=b),d=new Array(g),e=0;g>e;){var h,i;e in f&&(h=f[e],i=a.call(c,h,e,f),d[e]=i),e++}return d}),Array.prototype.reduce||(Array.prototype.reduce=function(a){if(null===this||void 0===this)throw new TypeError("Object is null or undefined");var b,c=0,d=this.length>>0;if("function"!=typeof a)throw new TypeError("First argument is not callable");if(arguments.length<2){if(0===d)throw new TypeError("Array length is 0 and no second argument");b=this[0],c=1}else b=arguments[1];for(;d>c;)c in this&&(b=a.call(void 0,b,this[c],c,this)),++c;return b}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;if(0===c&&1===arguments.length)throw new TypeError;var d,e=c-1;if(arguments.length>=2)d=arguments[1];else for(;;){if(e in this){d=this[e--];break}if(--e<0)throw new TypeError}for(;e>=0;)e in b&&(d=a.call(void 0,d,b[e],e,b)),e--;return d}),Array.prototype.filter||(Array.prototype.filter=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=[],e=arguments[1],f=0;c>f;f++)if(f in b){var g=b[f];a.call(e,g,f,b)&&d.push(g)}return d}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.every||(Array.prototype.every=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments[1],e=0;c>e;e++)if(e in b&&!a.call(d,b[e],e,b))return!1;return!0}),Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(var e=d>=0?Math.min(d,c-1):c-Math.abs(d);e>=0;e--)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.some||(Array.prototype.some=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if("function"!=typeof a)throw new TypeError;for(var d=arguments[1],e=0;c>e;e++)if(e in b&&a.call(d,b[e],e,b))return!0;return!1}),function(){var a,b,c,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=this,a=function(){function a(){}return a.prototype.left=function(){return a.LeftProjection(this)},a.prototype.right=function(){return a.RightProjection(this)},a.prototype.fold=function(a,b){return this.isLeft?a(this.a):b(this.b)},a.prototype.swap=function(){return this.isLeft?d(this.a):b(this.b)},a.prototype.joinRight=function(){return this.isRight?d(this.b):b(b(this.a))},a.prototype.joinLeft=function(){return this.isLeft?b(this.a):d(d(this.b))},a.merge=function(a){return a.isLeft?a.a:a.b},a.LeftProjection=function(a){return new c(a)},a.RightProjection=function(a){return new e(a)},a}(),b=function(a){return new g(a)},g=function(a){function b(a){this.a=a}return j(b,a),b.prototype.isLeft=!0,b.prototype.isRight=!1,b}(a),d=function(a){return new h(a)},h=function(a){function b(a){this.b=a}return j(b,a),b.prototype.isLeft=!1,b.prototype.isRight=!0,b}(a),c=function(){function a(a){this.e=a}return a.prototype.get=function(){if(this.e.isLeft)return this.e.a;throw"Either.left.value on Right"},a.prototype.foreach=function(a){return this.e.isLeft?a(this.e.a):void 0},a.prototype.getOrElse=function(a){return this.e.isLeft?this.e.a:a},a.prototype.forall=function(a){return this.e.isLeft?a(this.e.a):!0},a.prototype.exists=function(a){return this.e.isLeft?a(this.e.a):!1},a.prototype.flatMap=function(a){return this.e.isLeft?a(this.e.a):d(this.e.b)},a.prototype.map=function(a){return this.e.isLeft?b(a(this.e.a)):None},a.prototype.filter=function(a){return this.e.isLeft&&a(this.e.a)?Some(b(this.e.a)):None},a.prototype.toSeq=function(){return this.e.isLeft?[this.e.a]:[]},a.prototype.toOption=function(){return this.e.isLeft?Some(this.e.a):None},a}(),e=function(){function a(a){this.e=a}return a.prototype.get=function(){if(this.e.isRight)return this.e.b;throw"Either.right.value on Left"},a.prototype.foreach=function(a){return this.e.isRight?a(this.e.b):void 0},a.prototype.getOrElse=function(a){return this.e.isRight?this.e.b:a},a.prototype.forall=function(a){return this.e.isRight?a(this.e.b):!0},a.prototype.exists=function(a){return this.e.isRight?a(this.e.b):!1},a.prototype.flatMap=function(a){return this.e.isRight?a(this.e.b):d(this.e.a)},a.prototype.map=function(a){return this.e.isRight?d(a(this.e.b)):None},a.prototype.filter=function(a){return this.e.isRight&&a(this.e.b)?Some(d(this.e.b)):None},a.prototype.toSeq=function(){return this.e.isRight?[this.e.b]:[]},a.prototype.toOption=function(){return this.e.isRight?Some(this.e.b):None},a}(),f.Either=a,f.Left=b,f.Right=d}.call(this),function(){var a,b,c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=this,b=function(){function b(){}return b.prototype.equals=function(a){return this.isEmpty&&a.isEmpty||!this.isEmpty&&!a.isEmpty&&this.get()===a.get()},b.prototype.isDefined=function(){return!this.isEmpty},b.prototype.getOrElse=function(a){return this.isEmpty?a:this.get()},b.prototype.orNull=function(){return this.isEmpty?null:this.get()},b.prototype.orElse=function(a){return this.isEmpty?a:this},b.prototype.exists=function(a){return!this.isEmpty&&a(this.get())},b.prototype.forall=function(a){return this.isEmpty||a(this.get())},b.prototype.map=function(b){return this.isEmpty?a:c(b(this.get()))},b.prototype.flatMap=function(b){return this.isEmpty?a:b(this.get())},b.prototype.filter=function(b){return this.isEmpty||b(this.get())?this:a},b.prototype.withFilter=function(a){var b,c;return b=function(a){return this.map=function(b){return c.filter(a).map(b)},this.flatMap=function(b){return c.filter(a).flatMap(b)},this.foreach=function(b){return c.filter(a).foreach(b)},this.withFilter=function(c){return new b(function(b){return a(b)&&c(b)})}},c=this,new b(a)},b.prototype.fold=function(a,b){return this.isEmpty?a():b(this.get())},b.prototype.match=function(a,b){return this.isEmpty?b():a(this.get())},b.prototype.foreach=function(a){return this.isEmpty?void 0:a(this.get())},b.prototype.collect=function(b){return!this.isEmpty&&b.isDefinedAt(this.get())?c(b(this.get())):a},b.prototype.iterator=function(){return this.isEmpty?[]:[this.get()]},b.apply=function(b){return void 0===b||null===b?a:c(b)},b}(),c=function(a){return new f(a)},c.apply=function(a){return f.apply(a)},f=function(b){function d(a){this.a=a}return h(d,b),d.prototype.isEmpty=!1,d.prototype.get=function(){return this.a},d.apply=function(b){return void 0===b?a:c(b)},d}(b),e=function(a){function b(){}return h(b,a),b.prototype.isEmpty=!0,b.prototype.get=function(){throw"NoSuchElementException(None.get)"},b}(b),a=new e,d.Option=b,d.Some=c,d.None=a}.call(this),function(){Array.prototype.sum=function(){return 0===this.length?0:1===this.length?parseInt(this[0],10):this.reduce(function(a,b){return a+b})},Array.prototype.head=function(){if(0===this.length)throw"NoSuchElement";return this[0]},Array.prototype.headOption=function(){return Option.apply(this[0])},Array.prototype.last=function(){if(0===this.length)throw"NoSuchElement";return this[this.length-1]},Array.prototype.lastOption=function(){return Option.apply(this[this.length-1])},Array.prototype.get=function(a){return this[a]},Array.prototype.getOrElse=function(a,b){return void 0!==this[a]?this[a]:b},Array.prototype.getOrElseUpdate=function(a,b){return void 0!==this[a]?this[a]:(this[a]=b,b)},Array.prototype.flatten=function(){return this.reduce(function(a,b){return a.concat(b)})},Array.prototype.flatMap=function(a){return this.reduce(function(b,c){return b.concat(a(c))},[])},Array.prototype.mapValues=function(a){var b;return b=[],this.forEach(function(c){return b[c]=a(c)}),b},Array.prototype.transpose=function(){var a,b,c,d,e,f,g,h,i,j;for(b=None,f=0,i=this.length;i>f;f++)if(a=this[f],b===None)b=a.length;else if(b!==a.length)throw new Error("IllegalArgumentException");for(e=[],c=g=0;b>=0?b>g:g>b;c=b>=0?++g:--g)for(e[c]=[],d=h=0,j=this.length;j>=0?j>h:h>j;d=j>=0?++h:--h)e[c][d]=this[d][c];return e},Array.prototype.take=function(a){return this.slice(0,a)},Array.prototype.takeRight=function(a){return this.slice(this.length-a,this.length)},Array.prototype.drop=function(a){return this.slice(a,this.length)},Array.prototype.dropRight=function(a){return this.slice(0,this.length-a)},Array.prototype.trimStart=function(a){var b,c;for(b=c=0;a>=0?a>c:c>a;b=a>=0?++c:--c)this.shift();return this},Array.prototype.trimEnd=function(a){var b,c,d;for(b=c=0,d=this.length-a;d>=0?d>c:c>d;b=d>=0?++c:--c)this.pop();return this},Array.prototype.distinct=function(){var a,b,c,d,e;for(c={},b=[],a=d=0,e=this.length;e>=0?e>=d:d>=e;a=e>=0?++d:--d)c.hasOwnProperty(this[a])||(b.push(this[a]),c[this[a]]=!0);return b.filter(function(a){return Option.apply(a)!==None})},Array.prototype.sliceAt=function(a){return[this.slice(0,a),this.slice(a)]},Array.prototype.exist=function(a){return-1!==this.indexOf(a)},Array.prototype.insert=function(a,b,c){var d,e;return c=Array.prototype.slice.call(arguments),c=c.length>2?[b].concat(c.drop(2)):[b],d=this.slice(0,a),e=this.slice(a),d.concat(c).concat(e)},Array.prototype.insertAll=function(a,b){var c,d;return c=this.slice(0,a),d=this.slice(a),c.concat(b).concat(d)},Array.prototype.remove=function(a,b){var c,d;return b=Option.apply(b).getOrElse(1),c=this.slice(0,a),d=this.slice(a+b),c.concat(d)},Array.prototype.zip=function(a){var b,c;return b=this.length<a.length?this:a,function(){c=[];for(var a=0,d=b.length;d>=0?d>a:a>d;d>=0?a++:a--)c.push(a);return c}.apply(this).map(function(b){return[this[b],a[b]]},this)},Array.prototype.zipAll=function(a,b,c){var d,e;return d=this.length>a.length?this:a,function(){e=[];for(var a=0,b=d.length;b>=0?b>a:a>b;b>=0?a++:a--)e.push(a);return e}.apply(this).map(function(d){return[void 0===this[d]?b:this[d],void 0===a[d]?c:a[d]]},this)},Array.prototype.unzip=function(a){var b;return b=this.map(a),[b.map(function(a){return a[0]}),b.map(function(a){return a[1]})]},Array.prototype.unzip3=function(a){var b;return b=this.map(a),[b.map(function(a){return a[0]}),b.map(function(a){return a[1]}),b.map(function(a){return a[2]})]},Array.prototype.combinations=function(a){var b,c;for(b=c=0;a>=0?a>c:c>a;b=a>=0?++c:--c)tree[b];return this.filter(function(a){return a})},Array.prototype.clone=function(){return Array.apply(null,this)},Array.prototype.toMap=function(){var a;return a=[],this.map(function(b){return a[b[0]]=b[1]}),a}}.call(this),function(){Boolean.unless=function(a){return function(b){return a?void 0:b()}},Boolean.when=function(a){return function(b){return a?b():void 0}},Boolean.prototype.unless=function(a){return Boolean.unless(this.toString()===(!0).toString())(a)},Boolean.prototype.when=function(a){return Boolean.when(this.toString()===(!0).toString())(a)}}.call(this),function(){var a,b;Date.prototype.getMonthLength=function(){return this.getMonthLast().getDate()},Date.prototype.getPrevMonth=function(){return this.dateAdd("month",-1)},Date.prototype.getNextMonth=function(){return this.dateAdd("month",1)},Date.prototype.getMonthFirst=function(){var a;return a=this.getDatePart(),a.setDate(1),a},Date.prototype.getMonthLast=function(){var a;return a=this.getMonthFirst(),a.setMonth(a.getMonth()+1),a.setDate(0),a},Date.prototype.getDatePart=function(){var a;return a=this.clone(),a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),a},b=function(a){switch(a){case"year":case"y":return"year";case"month":case"m":return"month";case"day":case"date":case"d":return"day";case"week":return"week";case"hour":return"hour";case"minute":return"minute";case"second":return"second";case"millisecond":return"millisecond"}},a=function(a,c){switch(b(a)){case"year":return this.thenYear(c);case"month":return this.thenMonth(c);case"day":return this.thenDay(c);case"week":return this.thenWeek(c);case"hour":return this.thenHour(c);case"minute":return this.thenMinute(c);case"second":return this.thenSecond(c);case"millisecond":return this.thenMillisecond(c)}},Date.prototype.dateAdd=function(b,c){var d,e;return e=this,d=this.clone(),a.call(function(){this.thenYear=function(){return e.dateAdd("month",12*c)},this.thenMonth=function(){var a;return a=d.getDate(),d.setDate(1),d.setMonth(d.getMonth()+c+1),d.setDate(0),d.setDate(Math.min(a,d.getDate())),d},this.thenDay=function(){return d.setDate(d.getDate()+c),d},this.thenWeek=function(){return e.dateAdd("day",7*c)},this.thenHour=function(){return d.setHours(d.getHours()+c),d},this.thenMinute=function(){return d.setMinutes(d.getMinutes()+c),d},this.thenSecond=function(){return d.setSeconds(d.getSeconds()+c),d},this.thenMillisecond=function(){return d.setMilliseconds(d.getMilliseconds()+c),d}}(),b)},Date.prototype.dateDiff=function(b,c){var d;return d=this,a.call(function(){this.thenYear=function(){return c.getFullYear()-d.getFullYear()},this.thenMonth=function(){return 12*d.dateDiff("year",c)+c.getMonth()-d.getMonth()},this.thenDay=function(){var a;return a=(new Date).getDatePart().getTime(),Math.floor((c.getTime()-a)/864e5)-Math.floor((d.getTime()-a)/864e5)},this.thenWeek=function(){return Math.floor(d.dateDiff("day",c)/7)},this.thenHour=function(){var a;return a=(new Date).getDatePart().getTime(),Math.floor((c.getTime()-a)/36e5)-Math.floor((d.getTime()-a)/36e5)},this.thenMinute=function(){var a;return a=(new Date).getDatePart().getTime(),Math.floor((c.getTime()-a)/6e4)-Math.floor((d.getTime()-a)/6e4)},this.thenSecond=function(){var a;return a=(new Date).getDatePart().getTime(),Math.floor((c.getTime()-a)/1e3)-Math.floor((d.getTime()-a)/1e3)},this.thenMillisecond=function(){return c.getTime()-d.getTime()}}(),b)},Date.prototype.toFormatString=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return s=new Array("Sun","Mon","Tue","Web","Tur","Fri","Sat"),u=this.getFullYear().toString(),t=u.slice(2),d=(this.getMonth()+1).toString(),e=1===d.length?"0"+d:d,f=this.getDate().toString(),g=1===f.length?"0"+f:f,h=s[this.getDay()],b=this.getHours().toString(),c=1===b.length?"0"+b:b,l=(this.getHours()%12).toString(),m=1===l.length?"0"+l:l,n=this.getMinutes().toString(),p=1===n.length?"0"+n:n,q=this.getSeconds().toString(),r=1===q.length?"0"+q:q,o="000"+this.getMilliseconds().toString(),i=o.substr(o.length-3,1),j=o.substr(o.length-3,2),k=o.substr(o.length-3,3),"0"===l&&(l="12"),a.replace(/yyyy/g,u).replace(/yy/g,t).replace(/MM/g,e).replace(/M/g,d).replace(/ddd/g,h).replace(/dd/g,g).replace(/d/g,f).replace(/HH/g,c).replace(/H/g,b).replace(/hh/g,m).replace(/h/g,l).replace(/mm/g,p).replace(/m/g,n).replace(/ss/g,r).replace(/s/g,q).replace(/fff/g,k).replace(/ff/g,j).replace(/f/g,i)},Date.prototype.clone=function(){return new Date(this.getTime())}}.call(this),function(){Function.prototype.curried=function(){var a,b;return b=function(c){return c.length>=a.length?a.apply(null,c):function(){return b(c.concat(Array.prototype.slice.call(arguments)))}},a=this,0===a.length?this:b([])},Function.prototype.andThen=function(a){var b;return b=this,function(c){return a(b(c))}},Function.prototype.compose=function(a){var b;return b=this,function(c){return b(a(c))}},Function.prototype.tupled=function(){var a;return a=this,function(b){return a.apply(a,b)}}}.call(this),function(){String.prototype.isEmpty=function(){return 0===this.length},String.prototype.nonEmpty=function(){return 0!==this.length},String.prototype.head=function(){if(this.isEmpty())throw"NoSuchElement";return this.charAt(0)},String.prototype.headOption=function(){return this.isEmpty()?None:Some(this.head())},String.prototype.last=function(){if(this.isEmpty())throw"NoSuchElement";return this.charAt(this.length-1)},String.prototype.lastOption=function(){return this.isEmpty()?None:Some(this.last())},String.prototype.take=function(a){return this.substring(0,a)},String.prototype.takeRight=function(a){var b;return b=this.length-a<0?0:this.length-a,this.substring(b,this.length)},String.prototype.contains=function(a){return-1!==this.indexOf(a)},String.prototype.startsWith=function(a){return this.take(a.length)===a},String.prototype.endsWith=function(a){return this.takeRight(a.length)===a},String.prototype.format=function(a){var b,c,d,e;return d=void 0,e=this,"object"==typeof a?d=function(b,c){return a[c]?a[c]:b}:(c=arguments,b=c.length-1,e=e.replace(/(?!\{)*\{\{(\w+)\}\}/g,function(a){var d;return c[++b]=a.replace("{{","{").replace("}}","}"),d="{"+b+"}"}),d=function(a,b){return c[parseInt(b,10)]}),e.replace(/(?!\{)*\{(\w+)\}/g,d)},String.prototype.toInt=function(){return parseInt(this,10)},String.prototype.toFloat=function(){return parseFloat(this)},String.prototype.toIntOrZero=function(){return isNaN(this)?0:this.toInt()},String.prototype.toFloatOrZero=function(){return isNaN(this)?0:this.toFloat()},function(){var a;a=65248,String.prototype.toHalfNumber=function(){return this.replace(/[０１２３４５６７８９]/g,function(b){return String.fromCharCode(b.charCodeAt(0)-a)}).replace(/\d+\．\d+/g,function(a){return a.replace("．",".")})},String.prototype.toHalfAlphabet=function(){return this.replace(/[Ａ-Ｚａ-ｚ]/g,function(b){return String.fromCharCode(b.charCodeAt(0)-a)})}}(),String.prototype.removeFullWidth=function(){return this.replace(/[^!-~]/g,"")}}.call(this);